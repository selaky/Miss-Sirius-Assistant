{
  "$__mpe_config_世界BOSS": {
    "$__mpe_code": {
      "filePath": "D:\\Projects\\MSA\\assets\\resource\\pipeline\\世界BOSS.json",
      "filename": "世界BOSS",
      "lastSyncTime": 1770024967996,
      "prefix": "",
      "savedViewport": {
        "x": -1034,
        "y": -308,
        "zoom": 0.57
      },
      "version": "v1.0.2"
    }
  },
  "$__mpe_external_开始返回主界面_世界BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 800,
        "y": 0
      }
    }
  },
  "BOSS大恢复药": {
    "$__mpe_code": {
      "position": {
        "x": 400,
        "y": 1550
      }
    },
    "action": {
      "param": {
        "target": [
          896,
          395,
          56,
          27
        ]
      },
      "type": "Click"
    },
    "next": [
      "结束BOSS吃药"
    ]
  },
  "BOSS小恢复药1": {
    "$__mpe_code": {
      "position": {
        "x": 400,
        "y": 1750
      }
    },
    "action": {
      "param": {
        "target": [
          896,
          510,
          56,
          28
        ]
      },
      "type": "Click"
    },
    "next": [
      "BOSS小恢复药2"
    ]
  },
  "BOSS小恢复药2": {
    "$__mpe_code": {
      "position": {
        "x": 700,
        "y": 1750
      }
    },
    "action": {
      "param": {
        "target": [
          896,
          510,
          56,
          28
        ]
      },
      "type": "Click"
    },
    "next": [
      "结束BOSS吃药"
    ]
  },
  "BOSS战斗失败": {
    "$__mpe_code": {
      "position": {
        "x": 2200,
        "y": 1100
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "BOSS计数增加"
    ],
    "rate_limit": 10,
    "recognition": {
      "param": {
        "roi": [
          693,
          3,
          588,
          277
        ],
        "template": [
          "战斗/战斗失败.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "BOSS界面重试": {
    "$__mpe_code": {
      "position": {
        "x": 2800,
        "y": 200
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "recognition": {
      "param": {
        "roi": [
          515,
          385,
          246,
          63
        ],
        "template": [
          "意外/重试.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "BOSS计数增加": {
    "$__mpe_code": {
      "position": {
        "x": 2500,
        "y": 1100
      }
    },
    "action": {
      "param": {
        "custom_action": "add_boss_battles"
      },
      "type": "Custom"
    },
    "next": [
      "输出BOSS计数"
    ],
    "rate_limit": 10
  },
  "BOSS跳过": {
    "$__mpe_code": {
      "position": {
        "x": 1900,
        "y": 1100
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "BOSS战斗失败"
    ],
    "on_error": [
      "开始BOSS循环"
    ],
    "recognition": {
      "param": {
        "roi": [
          1169,
          534,
          114,
          109
        ],
        "template": [
          "战斗/跳过.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "BossPage": {
    "$__mpe_code": {
      "position": {
        "x": 0,
        "y": 2100
      }
    },
    "recognition": {
      "param": {
        "roi": [
          45,
          196,
          112,
          58
        ],
        "template": [
          "BOSS/我的排名.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "CurrentRank": {
    "$__mpe_code": {
      "position": {
        "x": 0,
        "y": 2300
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "recognition": {
      "param": {
        "expected": [
          ""
        ],
        "roi": [
          83,
          241,
          168,
          29
        ]
      },
      "type": "OCR"
    }
  },
  "关闭BOSS吃药弹窗": {
    "$__mpe_code": {
      "position": {
        "x": 1000,
        "y": 1550
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "关闭BOSS吃药弹窗",
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "未进入BOSS战"
    ],
    "on_error": [
      "开始BOSS循环"
    ],
    "recognition": {
      "param": {
        "roi": [
          980,
          248,
          48,
          45
        ],
        "template": [
          "恢复/关闭恢复界面.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "关闭BOSS弹窗": {
    "$__mpe_code": {
      "position": {
        "x": 1300,
        "y": 900
      }
    },
    "action": {
      "param": {
        "target": [
          612,
          412,
          59,
          15
        ]
      },
      "type": "Click"
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "开始BOSS吃药",
      "未进入BOSS战",
      "BOSS跳过"
    ],
    "on_error": [
      "开始BOSS循环"
    ]
  },
  "准点进入 boss 界面": {
    "$__mpe_code": {
      "position": {
        "x": 1900,
        "y": 200
      }
    },
    "focus": {
      "Node.Recognition.Succeeded": "三年之期已到，恭迎龙王归来——"
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "前往世界BOSS"
    ],
    "recognition": {
      "param": {
        "custom_recognition": "check_deadline",
        "custom_recognition_param": {
          "target_hour": 19,
          "target_minute": 0
        }
      },
      "type": "Custom"
    }
  },
  "判断停止BOSS战": {
    "$__mpe_code": {
      "position": {
        "x": 3100,
        "y": 700
      }
    },
    "action": {
      "param": {},
      "type": "StopTask"
    },
    "focus": {
      "Node.Recognition.Succeeded": "达到 boss 战次数上限，任务停止。"
    },
    "recognition": {
      "param": {
        "custom_recognition": "should_boss_stop"
      },
      "type": "Custom"
    }
  },
  "判断暂停BOSS战": {
    "$__mpe_code": {
      "position": {
        "x": 3470,
        "y": 1250
      }
    },
    "enabled": true,
    "pre_delay": 500,
    "recognition": {
      "param": {
        "custom_recognition": "should_boss_pause"
      },
      "type": "Custom"
    }
  },
  "判断达到BOSS时限": {
    "$__mpe_code": {
      "position": {
        "x": 3100,
        "y": 900
      }
    },
    "action": {
      "param": {},
      "type": "StopTask"
    },
    "focus": "已达到规定时间,任务停止。",
    "recognition": {
      "param": {
        "custom_recognition": "check_deadline",
        "custom_recognition_param": {
          "target_hour": 19,
          "target_minute": 15
        }
      },
      "type": "Custom"
    }
  },
  "前往世界BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 2200,
        "y": 200
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "前往世界BOSS",
      "确认进入世界BOSS"
    ],
    "recognition": {
      "param": {
        "roi": [
          1143,
          538,
          139,
          143
        ],
        "template": [
          "BOSS/世界BOSS.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "开始BOSS吃药": {
    "$__mpe_code": {
      "position": {
        "x": 100,
        "y": 1550
      }
    },
    "next": [
      "BOSS大恢复药",
      "BOSS小恢复药1"
    ],
    "recognition": {
      "param": {
        "roi": [
          309,
          143,
          201,
          282
        ],
        "template": [
          "恢复/恢复看板娘.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "开始BOSS循环": {
    "$__mpe_code": {
      "position": {
        "x": 2800,
        "y": 500
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "判断停止BOSS战",
      "判断达到BOSS时限",
      "继续BOSS战"
    ]
  },
  "开始世界BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 100,
        "y": 0
      }
    },
    "next": [
      "开始前往主界面等待BOSS"
    ]
  },
  "开始前往主界面等待BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 500,
        "y": 0
      }
    },
    "action": {
      "param": {
        "custom_action": "set_next",
        "custom_action_param": {
          "next_node": "结束前往主界面等待BOSS",
          "pre_node": "导航后续路线"
        }
      },
      "type": "Custom"
    },
    "next": [
      "开始返回主界面",
      "结束前往主界面等待BOSS"
    ]
  },
  "开始等待世界BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 1400,
        "y": 200
      }
    },
    "next": [
      "准点进入 boss 界面",
      {
        "jump_back": true,
        "name": "等待世界BOSS"
      }
    ]
  },
  "开始选择BOSS卡组": {
    "$__mpe_code": {
      "position": {
        "x": 100,
        "y": 900
      }
    },
    "next": [
      "点击BOSS卡组一",
      "点击BOSS卡组二",
      "点击BOSS卡组三",
      "点击BOSS卡组四"
    ]
  },
  "未进入BOSS战": {
    "$__mpe_code": {
      "position": {
        "x": 1600,
        "y": 700
      }
    },
    "next": [
      "判断达到BOSS时限",
      "开始选择BOSS卡组"
    ],
    "recognition": {
      "param": {
        "roi": [
          45,
          196,
          112,
          58
        ],
        "template": [
          "BOSS/我的排名.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "点击BOSS卡组一": {
    "$__mpe_code": {
      "position": {
        "x": 400,
        "y": 700
      }
    },
    "action": {
      "param": {
        "target": [
          1187,
          96,
          66,
          54
        ]
      },
      "type": "Click"
    },
    "next": [
      "结束选择BOSS卡组"
    ]
  },
  "点击BOSS卡组三": {
    "$__mpe_code": {
      "position": {
        "x": 400,
        "y": 1100
      }
    },
    "action": {
      "param": {
        "target": [
          1188,
          296,
          66,
          57
        ]
      },
      "type": "Click"
    },
    "next": [
      "结束选择BOSS卡组"
    ]
  },
  "点击BOSS卡组二": {
    "$__mpe_code": {
      "position": {
        "x": 400,
        "y": 900
      }
    },
    "action": {
      "param": {
        "target": [
          1186,
          193,
          68,
          63
        ]
      },
      "type": "Click"
    },
    "next": [
      "结束选择BOSS卡组"
    ]
  },
  "点击BOSS卡组四": {
    "$__mpe_code": {
      "position": {
        "x": 400,
        "y": 1300
      }
    },
    "action": {
      "param": {
        "target": [
          1185,
          392,
          72,
          60
        ]
      },
      "type": "Click"
    },
    "next": [
      "结束选择BOSS卡组"
    ]
  },
  "确认进入世界BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 2500,
        "y": 200
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "开始BOSS循环"
    ],
    "on_error": [
      "开始前往主界面等待BOSS"
    ],
    "recognition": {
      "param": {
        "roi": [
          63,
          214,
          88,
          32
        ],
        "template": [
          "BOSS/我的排名.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "等待世界BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 1700,
        "y": 400
      }
    }
  },
  "结束BOSS吃药": {
    "$__mpe_code": {
      "position": {
        "x": 700,
        "y": 1550
      }
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "关闭BOSS吃药弹窗"
    ],
    "on_error": [
      "开始BOSS循环"
    ]
  },
  "结束前往主界面等待BOSS": {
    "$__mpe_code": {
      "position": {
        "x": 1100,
        "y": 0
      }
    },
    "focus": {
      "Node.Recognition.Succeeded": "停留在主界面等待7点到来"
    },
    "next": [
      "读取BOSS设置"
    ]
  },
  "结束选择BOSS卡组": {
    "$__mpe_code": {
      "position": {
        "x": 700,
        "y": 900
      }
    },
    "next": [
      "关闭BOSS弹窗"
    ]
  },
  "继续BOSS战": {
    "$__mpe_code": {
      "position": {
        "x": 3103,
        "y": 1232
      }
    },
    "next": [
      {
        "jump_back": true,
        "name": "BOSS界面重试"
      },
      "判断达到BOSS时限",
      {
        "jump_back": true,
        "name": "判断暂停BOSS战"
      },
      "开始选择BOSS卡组"
    ]
  },
  "读取BOSS设置": {
    "$__mpe_code": {
      "position": {
        "x": 1100,
        "y": 200
      }
    },
    "action": {
      "param": {
        "custom_action": "load_boss_data",
        "custom_action_param": {
          "max_battles": -1,
          "target_rank": -1
        }
      },
      "type": "Custom"
    },
    "next": [
      "开始等待世界BOSS"
    ]
  },
  "输出BOSS计数": {
    "$__mpe_code": {
      "position": {
        "x": 2800,
        "y": 1100
      }
    },
    "next": [
      "开始BOSS循环"
    ]
  }
}