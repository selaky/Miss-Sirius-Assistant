{
  "$__mpe_config_恢复": {
    "$__mpe_code": {
      "filePath": "D:\\Projects\\MSA\\assets\\resource\\pipeline\\跑图\\恢复.json",
      "filename": "恢复",
      "lastSyncTime": 1767938785859,
      "prefix": "",
      "savedViewport": {
        "x": -593,
        "y": -194,
        "zoom": 0.65
      },
      "version": "v0.14.2"
    }
  },
  "$__mpe_external_意外处理_恢复": {
    "$__mpe_code": {
      "position": {
        "x": 2400,
        "y": 1722
      }
    }
  },
  "$__mpe_external_跑图循环开始_恢复": {
    "$__mpe_code": {
      "position": {
        "x": 2400,
        "y": 2193
      }
    }
  },
  "AP不足": {
    "$__mpe_code": {
      "position": {
        "x": 300,
        "y": 215
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "next": [
      "记录大AP药库存"
    ],
    "on_error": [
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "roi": [
          600,
          323,
          103,
          108
        ],
        "template": [
          "恢复/行动力恢复药-大.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "BC不足": {
    "$__mpe_code": {
      "position": {
        "x": 300,
        "y": 1348
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "next": [
      "记录大BC药库存"
    ],
    "on_error": [
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "roi": [
          600,
          323,
          103,
          108
        ],
        "template": [
          "恢复/战斗力恢复药-大.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "BC药不足，关闭恢复界面": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 1941
      }
    },
    "action": {
      "param": {
        "target": [
          991,
          257,
          28,
          25
        ]
      },
      "type": "Click"
    },
    "next": [
      "BC药不足，关闭恢复界面",
      "BC药不足，放弃战斗"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "roi": [
          980,
          248,
          48,
          45
        ],
        "template": [
          "恢复/关闭恢复界面.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "BC药不足，放弃战斗": {
    "$__mpe_code": {
      "position": {
        "x": 1800,
        "y": 1978
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "BC药不足，放弃战斗",
      "跑图循环开始"
    ],
    "recognition": {
      "param": {
        "template": [
          "战斗/放弃.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "使用大恢复药": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 712
      }
    },
    "action": {
      "param": {
        "target": [
          896,
          395,
          56,
          27
        ]
      },
      "type": "Click"
    },
    "next": [
      "恢复点击完毕"
    ],
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "使用小恢复药": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 1123
      }
    },
    "action": {
      "param": {
        "target": [
          896,
          510,
          56,
          28
        ]
      },
      "type": "Click"
    },
    "next": [
      "恢复点击完毕"
    ],
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "免费恢复": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 0
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "enabled": true,
    "focus": {
      "Node.Recognition.Succeeded": "使用免费状态回复"
    },
    "next": [
      "免费恢复",
      "恢复点击完毕"
    ],
    "rate_limit": 200,
    "recognition": {
      "param": {
        "roi": [
          629,
          566,
          120,
          54
        ],
        "template": [
          "恢复/免费恢复.png"
        ],
        "threshold": [
          0.9
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "关闭恢复界面": {
    "$__mpe_code": {
      "position": {
        "x": 2100,
        "y": 694
      }
    },
    "action": {
      "param": {},
      "type": "Click"
    },
    "next": [
      "关闭恢复界面",
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "roi": [
          980,
          248,
          48,
          45
        ],
        "template": [
          "恢复/关闭恢复界面.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "判断使用大AP药": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 199
      }
    },
    "action": {
      "param": {
        "custom_action": "add_potion_usage"
      },
      "type": "Custom"
    },
    "focus": {
      "Node.Recognition.Succeeded": "使用大AP药"
    },
    "next": [
      {
        "jump_back": true,
        "name": "意外处理"
      },
      "使用大恢复药"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "custom_recognition": "should_use_potion"
      },
      "type": "Custom"
    }
  },
  "判断使用大BC药": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 1332
      }
    },
    "action": {
      "param": {
        "custom_action": "add_potion_usage"
      },
      "type": "Custom"
    },
    "focus": {
      "Node.Recognition.Succeeded": "使用大BC药"
    },
    "next": [
      {
        "jump_back": true,
        "name": "意外处理"
      },
      "使用大恢复药"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "custom_recognition": "should_use_potion"
      },
      "type": "Custom"
    }
  },
  "判断使用小AP药": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 509
      }
    },
    "action": {
      "param": {
        "custom_action": "add_potion_usage"
      },
      "type": "Custom"
    },
    "focus": {
      "Node.Recognition.Succeeded": "使用小AP药"
    },
    "next": [
      {
        "jump_back": true,
        "name": "意外处理"
      },
      "使用小恢复药"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "custom_recognition": "should_use_potion"
      },
      "type": "Custom"
    }
  },
  "判断使用小BC药": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 1642
      }
    },
    "action": {
      "param": {
        "custom_action": "add_potion_usage"
      },
      "type": "Custom"
    },
    "focus": {
      "Node.Recognition.Succeeded": "使用小BC药"
    },
    "next": [
      {
        "jump_back": true,
        "name": "意外处理"
      },
      "使用小恢复药"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "custom_recognition": "should_use_potion"
      },
      "type": "Custom"
    }
  },
  "判断停止使用AP药": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 857
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "focus": "AP药使用已达到预订值，跑图无法继续，任务圆满完成",
    "next": [
      "行动力耗尽"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "判断停止使用BC药": {
    "$__mpe_code": {
      "position": {
        "x": 1200,
        "y": 1952
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "focus": {
      "Node.Recognition.Succeeded": "BC药使用已达到预订值，开启纯跑图模式，消耗剩余AP"
    },
    "next": [
      "BC药不足，关闭恢复界面"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "开始恢复": {
    "$__mpe_code": {
      "position": {
        "x": 0,
        "y": 50
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "next": [
      {
        "jump_back": true,
        "name": "意外处理"
      },
      "免费恢复",
      "AP不足",
      "BC不足"
    ],
    "on_error": [
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "roi": [
          309,
          143,
          201,
          282
        ],
        "template": [
          "恢复/恢复看板娘.png"
        ]
      },
      "type": "TemplateMatch"
    }
  },
  "恢复点击完毕": {
    "$__mpe_code": {
      "position": {
        "x": 1800,
        "y": 727
      }
    },
    "action": {
      "param": {},
      "type": "DoNothing"
    },
    "next": [
      {
        "jump_back": true,
        "name": "意外处理"
      },
      "关闭恢复界面"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "行动力耗尽": {
    "$__mpe_code": {
      "position": {
        "x": 1500,
        "y": 901
      }
    },
    "action": {
      "param": {},
      "type": "StopTask"
    },
    "recognition": {
      "param": {},
      "type": "DirectHit"
    }
  },
  "记录大AP药库存": {
    "$__mpe_code": {
      "position": {
        "x": 600,
        "y": 199
      }
    },
    "action": {
      "param": {
        "custom_action": "store_potion_storage"
      },
      "type": "Custom"
    },
    "next": [
      "记录小 AP 药库存"
    ],
    "on_error": [
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "expected": [
          "^(0|[1-9]\\d*)$"
        ],
        "roi": [
          785,
          385,
          93,
          29
        ]
      },
      "type": "OCR"
    }
  },
  "记录大BC药库存": {
    "$__mpe_code": {
      "position": {
        "x": 600,
        "y": 1332
      }
    },
    "action": {
      "param": {
        "custom_action": "store_potion_storage"
      },
      "type": "Custom"
    },
    "next": [
      "记录小BC药库存"
    ],
    "on_error": [
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "expected": [
          "^(0|[1-9]\\d*)$"
        ],
        "roi": [
          785,
          385,
          93,
          29
        ]
      },
      "type": "OCR"
    }
  },
  "记录小 AP 药库存": {
    "$__mpe_code": {
      "position": {
        "x": 900,
        "y": 199
      }
    },
    "action": {
      "param": {
        "custom_action": "store_potion_storage"
      },
      "type": "Custom"
    },
    "next": [
      "判断使用大AP药",
      "判断使用小AP药",
      "判断停止使用AP药"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "expected": [
          "^(0|[1-9]\\d*)$"
        ],
        "roi": [
          785,
          497,
          93,
          32
        ]
      },
      "type": "OCR"
    }
  },
  "记录小BC药库存": {
    "$__mpe_code": {
      "position": {
        "x": 900,
        "y": 1332
      }
    },
    "action": {
      "param": {
        "custom_action": "store_potion_storage"
      },
      "type": "Custom"
    },
    "next": [
      "判断使用大BC药",
      "判断使用小BC药",
      "判断停止使用BC药"
    ],
    "on_error": [
      "跑图循环开始"
    ],
    "rate_limit": 100,
    "recognition": {
      "param": {
        "expected": [
          "^(0|[1-9]\\d*)$"
        ],
        "roi": [
          785,
          497,
          93,
          32
        ]
      },
      "type": "OCR"
    }
  }
}